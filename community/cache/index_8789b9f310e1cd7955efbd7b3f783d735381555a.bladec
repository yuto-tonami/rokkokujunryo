<!DOCTYPE html>
<html lang="ja">

<head>
 <meta charset="UTF-8">
 <meta name="viewport" content="width=device-width, initial-scale=1.0">
 <title>掲示板</title>
 <link rel="stylesheet" href="styles.css">
</head>

<body>
 <h1>掲示板</h1>
 <form method="post" action="">
 <p>
 <label for="name">名前:</label>
 <input type="text" id="name" name="name" required>
 </p>
 <p>
 <label for="title">タイトル:</label>
 <input type="text" id="title" name="title" required>
 </p>
 <p>
 <label for="content">本文:</label>
 <textarea id="content" name="content" rows="5" required></textarea>
 </p>
 <button type="submit">投稿する</button>
 </form>

 <h2>投稿一覧</h2>
 <?php $__currentLoopData = $posts; $this->addLoop($__currentLoopData);$this->getFirstLoop();
 foreach($__currentLoopData as $post): $loop = $this->incrementLoopIndices();  ?>
 <div class="post">
 <h3><?php echo \htmlentities($post['title']??'', ENT_QUOTES, 'UTF-8', false); ?></h3>
 <p><strong><?php echo \htmlentities($post['name']??'', ENT_QUOTES, 'UTF-8', false); ?></strong> - <?php echo \htmlentities($post['created_at']??'', ENT_QUOTES, 'UTF-8', false); ?></p>
 <p><?php echo \htmlentities($post['content']??'', ENT_QUOTES, 'UTF-8', false); ?></p>
 <form class="deleteform" method="post" action="">
 <input type="hidden" name="_method" value="DELETE">
 <input type="hidden" name="id" value="<?php echo \htmlentities($post['id']??'', ENT_QUOTES, 'UTF-8', false); ?>">
 <button type="submit" onclick="return confirm('この投稿を削除してもよろしいですか？')">削除</button>
 </form>
 </div>
 <?php endforeach; $this->popLoop(); $loop = $this->getFirstLoop(); ?>
</body>

</html>